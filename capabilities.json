{
  "dataRoles": [
    {
      "name": "choroplethGeometry",
      "kind": "GroupingOrMeasure",
      "displayName": "Choropleth Geometry",
      "description": "Complete GeoJSON geometry data for choropleth regions"
    },
    {
      "name": "choroplethValue",
      "kind": "Measure",
      "displayName": "Choropleth Value",
      "description": "Numeric value for choropleth coloring"
    },
    {
      "name": "adminCode",
      "kind": "Grouping",
      "displayName": "Admin Code",
      "description": "Administrative code for regions"
    },
    {
      "name": "countryName",
      "kind": "Grouping",
      "displayName": "Country Name",
      "description": "Name of the country/region"
    },
    {
      "name": "isoCode",
      "kind": "Grouping",
      "displayName": "ISO Code",
      "description": "ISO 3-letter country code"
    },
    {
      "name": "continent",
      "kind": "Grouping",
      "displayName": "Continent",
      "description": "Continent of the region"
    },
    {
      "name": "latitude",
      "kind": "Measure",
      "displayName": "Latitude",
      "description": "Latitude for marker placement"
    },
    {
      "name": "longitude",
      "kind": "Measure",
      "displayName": "Longitude",
      "description": "Longitude for marker placement"
    },
    {
      "name": "tooltip",
      "kind": "GroupingOrMeasure",
      "displayName": "Tooltip",
      "description": "Additional data for tooltips"
    }
  ],
  "dataViewMappings": [
    {
      "table": {
        "rows": {
          "select": [
            {
              "for": {
                "in": "choroplethGeometry"
              }
            },
            {
              "for": {
                "in": "choroplethValue"
              }
            },
            {
              "for": {
                "in": "adminCode"
              }
            },
            {
              "for": {
                "in": "countryName"
              }
            },
            {
              "for": {
                "in": "isoCode"
              }
            },
            {
              "for": {
                "in": "continent"
              }
            },
            {
              "for": {
                "in": "latitude"
              }
            },
            {
              "for": {
                "in": "longitude"
              }
            },
            {
              "for": {
                "in": "tooltip"
              }
            }
          ]
        }
      }
    }
  ],
  "objects": {
    "choroplethSettings": {
      "displayName": "Choropleth Settings",
      "properties": {
        "showChoropleth": {
          "displayName": "Show Choropleth",
          "type": {
            "bool": true
          }
        },
        "colorScheme": {
          "displayName": "Color Scheme",
          "type": {
            "enumeration": [
              {
                "value": "YlOrRd",
                "displayName": "Yellow-Orange-Red"
              },
              {
                "value": "Blues",
                "displayName": "Blues"
              },
              {
                "value": "Greens",
                "displayName": "Greens"
              },
              {
                "value": "Reds",
                "displayName": "Reds"
              },
              {
                "value": "Viridis",
                "displayName": "Viridis"
              }
            ]
          }
        }
      }
    }
  },
  "privileges": [
    {
      "name": "WebAccess",
      "essential": true,
      "parameters": ["https://*.microsoft.com", "https://*"]
    }
  ]
}

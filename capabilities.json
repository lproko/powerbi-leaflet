{
  "dataRoles": [
    {
      "name": "choroplethGeometry",
      "kind": "Grouping",
      "displayName": "Choropleth Geometry",
      "description": "Complete GeoJSON geometry data for choropleth regions"
    },

    {
      "name": "latitude",
      "kind": "Grouping",
      "displayName": "Latitude",
      "description": "Latitude for marker placement"
    },
    {
      "name": "longitude",
      "kind": "Grouping",
      "displayName": "Longitude",
      "description": "Longitude for marker placement"
    },
    {
      "name": "tooltip",
      "kind": "GroupingOrMeasure",
      "displayName": "Tooltip",
      "description": "Additional data for tooltips"
    },
    {
      "name": "choroplethTooltip",
      "kind": "GroupingOrMeasure",
      "displayName": "Choropleth Tooltip",
      "description": "Additional data for choropleth tooltips"
    }
  ],
  "dataViewMappings": [
    {
      "table": {
        "rows": {
          "select": [
            {
              "for": {
                "in": "choroplethGeometry"
              }
            },
            {
              "for": {
                "in": "latitude"
              }
            },
            {
              "for": {
                "in": "longitude"
              }
            },
            {
              "for": {
                "in": "tooltip"
              }
            },
            {
              "for": {
                "in": "choroplethTooltip"
              }
            }
          ]
        }
      }
    }
  ],
  "objects": {
    "choroplethSettings": {
      "displayName": "Choropleth Settings",
      "properties": {
        "showChoropleth": {
          "displayName": "Show Choropleth",
          "type": {
            "bool": true
          }
        },
        "colorScheme": {
          "displayName": "Color Scheme",
          "type": {
            "enumeration": [
              {
                "value": "YlOrRd",
                "displayName": "Yellow-Orange-Red"
              },
              {
                "value": "Blues",
                "displayName": "Blues"
              },
              {
                "value": "Greens",
                "displayName": "Greens"
              },
              {
                "value": "Reds",
                "displayName": "Reds"
              },
              {
                "value": "Viridis",
                "displayName": "Viridis"
              }
            ]
          }
        }
      }
    }
  },
  "privileges": [
    {
      "name": "WebAccess",
      "essential": true,
      "parameters": ["https://*.microsoft.com", "https://*"]
    }
  ]
}
